## 1. 全局规范升级：先把「语言本身」定清楚

### 1.1 把 token 语法写成一个**固定模式**

建议把每个类名的核心形式，收敛成下面这个 BNF（思想上就行，不一定要写成真正 BNF）：

```text
Token      := [Breakpoint ":"]* [Pseudo ":" ]* Core [ "!"]
Core       := PropAbbr [DirectionOrSub] Value
PropAbbr   := 1–4 位小写字母（属性缩写）
DirectionOrSub := "" | ("t"|"r"|"b"|"l"|"x"|"y") | 其它子属性缩写
Value      := NumberValue | KeywordValue | BracketValue
NumberValue := Number [Unit]
KeywordValue := "-" CanonicalCSSKeyword
BracketValue := "[" RawCssValue "]"
```

**要点：**

* 所有东西都落在这一个模式上，不要搞一堆「特例语法」；
* `h:` / `f:` / `fv:` 这种都是挂在 Token 前面的 `Pseudo` 段；
* `!` 始终只能出现在 token 结尾，避免以后想加别的后缀被卡死。

> 一旦语法模式统一，你后面给 MDN 那几百个属性扩展缩写时，就不会出现「这个属性长得完全不一样」这种破口。([MDN Web Docs][2])

---

### 1.2 属性缩写：强制一套**统一算法 + 少量手工 override**

你现在图里是「常用单词自己拍脑袋缩写」：
`color → c`，`font-size → fs`，`background-color → bgc`，`border-color → bdc`，`border-radius → bdr` 等。

问题是：

* 没有**算法**，新属性（尤其是 MDN 里的一堆长名字）只能继续拍脑袋；
* `bdc`/`bdr` 等和 `border-*` 其它子属性容易撞车。

我建议这样升级：

1. **核心属性白名单**：

   * 你真正高频、想手工控制的那 80–120 个属性，保留「人类友好缩写」，例如：

     * `m` / `p` / `w` / `h` / `s` / `bgc` / `c` / `bd` / `bdrs` / `fs` / `fw` / `lh`...
   * 这些写死在规范里，不能随便变。

2. **其它全部走自动算法**（你只需要在 spec 里写清楚算法）：

   * 拿 MDN property 名（无浏览器前缀），按 `-` 切词：`scroll-margin-block-start` → `["scroll","margin","block","start"]`([MDN Web Docs][2])
   * 第一词取前 2 位，后面每词取首字母，拼出来，最多 4 字符：`sc` + `m` + `b` + `s` → `smbs`
   * 如果和核心缩写冲突，再加一位解决（比如加第一词第 3 个字母或 `x`）。

这样一来：

* **任何 CSS 属性都有可预测缩写**，而且不需要你手写 300 行表；
* 规范是「完备」的，给 LLM / 工具看也专业。

---

### 1.3 值的规则：数字 / 单位 / 关键字 / 复杂值

你图里已经有了大部分直觉，但还不够严谨，建议明确成四类：

1. **纯数字 / 带单位**

   * 默认数字 = `px`：`m10` → `10px`；
   * 其它单位直接拼：`w50%` / `h50vh` / `fs1.2em`。
   * 对 MDN 定义为 `<number>` 的属性（如 `opacity`, `line-height` 可以是 number 或 length）要在规范里显式说明：

     * `opacity`：`o0.5` → `0.5`
     * `line-height`：建议鼓励**无单位 number**：`lh1.5`，需要长度时用 `lh20` / `lh20px`。([MDN Web Docs][2])

2. **关键字值**

   * 统一 `propAbbr-关键字`，关键字直接复用 CSS 的英文：

     * `ta-left|center|right|justify`
     * `o-hidden|auto|scroll|visible`

3. **复杂 / 多段值**

   * 一律用 `[]` 容纳原生 CSS 文本：

     * `bd[1 solid #000]`
     * `t[translateY(-2px)]`
     * `ts[1 2 3 #000]`

4. **不要再用 `|` 做分隔符**

   * 你图里有 `m10|20|30|40` 的设想，这个会和很多解析器 / 正则博弈，也不直观。
   * 推荐只用两种：

     * 短写：`m10-20-30-40`（你现在官网就是这种风格）；
     * 或彻底都用 `[]`：`m[10 20 30 40]`，更接近原生 CSS 顺序。

**结论：**
多值请在规范里**禁止使用 `|`**，写死允许的只有 `-` 或 `[]` 两种风格，避免未来语法炸裂。

---

### 1.4 状态前缀 / 伪类 / 伪元素：强制两个命名空间

你现在心智图里把：

* `hover` 写成 `h:`（伪类）
* `after` 想写成 `a:`（伪元素）

这两个会互相撞死。

MDN 的伪类 / 伪元素列表已经挺长了：
伪类有 `:hover / :focus / :focus-visible / :checked / :disabled / :nth-child(...) / :not(...)` 等几十个；([MDN Web Docs][3])
伪元素有 `::before / ::after / ::placeholder / ::selection / ::marker / ::file-selector-button` 等等。([MDN Web Docs][4])

**建议你强制区分两个前缀族：**

* **伪类前缀（states）：**

  * 保留极少数一位：

    * `h:` → `:hover`
    * `a:` → `:active`
    * `f:` → `:focus`
  * 其它全部两位：

    * `fv:` → `:focus-visible`
    * `fw:` → `:focus-within`
    * `ch:` → `:checked`
    * `ds:` → `:disabled`
    * `em:` → `:empty`
    * `pl:` → `:placeholder-shown`
    * 结构类：`fc:` → `:first-child`，`lc:` → `:last-child`，`nt:` → `:nth-child()` + `[]` 参数：`nt[2n+1]`。

* **伪元素前缀（elements）：**（统一以 `e-` 开头，或任何你选的一个专用标记）

  * `e-af:` → `::after`
  * `e-bf:` → `::before`
  * `e-fl:` → `::first-letter`
  * `e-f1:` → `::first-line`
  * `e-ph:` → `::placeholder`
  * `e-sel:` → `::selection`
  * `e-mr:` → `::marker`
  * `e-fsb:` → `::file-selector-button`

示例组合：

```txt
h:e-af:(c#f00)     → :hover::after { color:#f00 }
ch:e-ph:(c#999)    → :checked::placeholder { color:#999 }
```

**重点：**

* 伪类前缀直挂在 token 前面：`h:...`；
* 伪元素使用另一个明显家族，不和伪类抢一位字母。
* 你图里的「伪类」和「伪元素」那两支树可以一口气重写成这套规则。

---

## 2. 按你当前 XMind 各分支逐项打补丁

我按你图里的大分支来：

### 2.1 基本命名（color / font-size / background-color / border-color / border-radius）

**建议：**

* 保留：

  * `c` → `color`
  * `fs` → `font-size`
  * `bgc` → `background-color`

* 调整：

  * `border-color`：建议用 `bc` 而不是 `bdc`，因为后面还有一堆 `border-*` 子属性，`bd` 前缀留给 `border` 本体和其四边：`bd`、`bdt`、`bdr`…
  * `border-radius`：`bdrs` 比 `bdr` 更清晰，不容易和 `border` 混。

**原因：**

* MDN 把 `border` 视作一堆 shorthand / longhand 属性的家族，你需要给 `border` 预留一个短前缀。([MDN Web Docs][2])
* `bc` / `bdrs` 和 `bd[...]` 并存，读起来也不会乱。

---

### 2.2 「值是单位」+「值带单位」

你图里已经写了几个例子：`z-index / font-weight / opacity / color / border-color / line-height / width / min-width / max-height / padding-left`。

我建议你在规范里明确三件事：

1. **哪些属性“默认不要单位”**

   * `z-index` → `zi100`（整数）
   * `opacity` → `o0.5`（0–1 number）
   * `line-height` → **强烈建议优先 number**：`lh1.5`，不写 `px`。
   * `font-weight` → 可以是 `fw700` 或 `fw-bold`，你要在规范里写清楚 two modes。

2. **哪些属性“推荐数值 + 单位”**

   * `width/height/min/max/padding/margin/border-width/border-radius` 等：

     * 默认 `px`：`w100`、`mh200`；
     * 需要 `%`、`vh` 时再显式加：`w50%`、`h100vh`。

3. **所有兼容多种计量方式的属性，文档里要附一行：**

   * 如 MDN 上的 `line-height` 就是典型「既可 number 又可 length/percentage」，你最好在 spec 里写：

     > 如果 value 没有单位，则按 `<number>` 解析；否则按 length/percentage 解析。([MDN Web Docs][2])

---

### 2.3「多个数值」：margin / padding / border-radius 等

你图里有几种写法：`m10|20`、`mt10 20`、`ml10 20` 一类。

我建议你**强制只允许两种**，别再加新形式：

1. **短连字符形式**（推荐给 LM 用）：

```txt
m10-20          → margin: 10px 20px
m10-20-30       → margin: 10px 20px 30px
m10-20-30-40    → margin: 10px 20px 30px 40px
p10-20          → padding: 10px 20px
bdrs10-0        → border-radius: 10px 0
```

2. **通用括号形式**：

```txt
m[10 20 30 40]
bdrs[10 0 10 0]
```

* `|` 直接删掉；
* 不要再搞 `m10 20` 这种「空格多段」，否则解析难度明显上升。

---

### 2.4「值是单词」：text-align / clear / display / overflow / position…

你图里写了 `text-align → t-a-l / t-a-c / t-a-r`，`clear → c-b`。

我建议统一为：

* 属性缩写 + `-` + **MDN 原始关键字**：

```txt
ta-left|center|right|justify
cl-left|right|both|none
d-block|inline|flex|grid|none
o-hidden|auto|scroll|visible
p-absolute|relative|fixed|sticky
v-visible|hidden|collapse
```

**不要再塞第二根短横出来**（比如 `t-a-l`，中间那根就多余）。

这样 LM 可以几乎机械地从 MDN 复制关键字，不需要再记任何“额外缩写”。

---

### 2.5 伪类（你图里那根“伪类”树）

你现在列了 hover / active / focus / visited / disabled / empty / required / nth-of-type / target / lang / not 等。

对照 MDN 全表，建议分层做法：

1. **状态型 / 用户交互**

   * 一位：`h:` `a:` `f:`
   * 两位：`fv:`（focus-visible）、`fw:`（focus-within）

2. **表单状态**

   * `ch:` → `:checked`
   * `ds:` → `:disabled`
   * `en:` → `:enabled`
   * `rq:` → `:required`
   * `op:` → `:optional`
   * `ir:` / `vr:` → `:in-range` / `:out-of-range`
   * `iv:` / `vv:` → `:invalid` / `:valid`

3. **结构 / 位置**

   * `rt:` → `:root`
   * `em:` → `:empty`
   * `fc:` → `:first-child`
   * `lc:` → `:last-child`
   * `oc:` → `:only-child`
   * `ft:` → `:first-of-type`
   * `lt:` → `:last-of-type`
   * `ot:` → `:only-of-type`
   * `nt[expr]` → `:nth-child(expr)`
   * `ntt[expr]` → `:nth-of-type(expr)`

4. **链接 / 目标**

   * `lk:` → `:link`
   * `vs:` → `:visited`
   * `tg:` → `:target`
   * `tw:` → `:target-within`

5. **函数伪类**

   * `is[selector-list]` → `:is()`
   * `nt[selector-list]` → `:not()`（与上面的 `nth-child` 冲突，因此你可能要换：一个用 `nch`，一个用 `nt`）
   * `wh[selector-list]` → `:where()`
   * `hs[selector-list]` → `:has()`

关键是：**在 spec 里把所有伪类分组列出来**，不要只写几个常见的，剩下说“以后再加”。

---

### 2.6 伪元素（你图里的那根“after / before / first-letter / placeholder / selection …”）

同样对照 MDN 伪元素表来：([MDN Web Docs][4])

建议保底支持：

* 排版类：

  * `e-af:` → `::after`
  * `e-bf:` → `::before`
  * `e-fl:` → `::first-letter`
  * `e-f1:` → `::first-line`
* 高亮类：

  * `e-ph:` → `::placeholder`
  * `e-sel:` → `::selection`
  * `e-mr:` → `::marker`
* 表单类：

  * `e-fsb:` → `::file-selector-button`

其它更偏 spec 的伪元素（`::grammar-error`、`::spelling-error`、view-transition 那一族）可以写成「由自动算法命名」，不强制人为缩写。

---

### 2.7 多值函数：font / text-shadow / outline / border / background / transition / animation…

你图里已经打算统一用 `[]` 包函数体，比如 `ts[]`、`ol[]`、`bd[]`、`bg[]`、`tr[]`、`ani[]`。

这一块基本是对的，我只建议你明确两个规则：

1. **所有“复合简写属性”，都允许 `abbr[原生值]` 形式**

   * `bd[1 solid #000]` → `border`
   * `bg[linear-gradient(...)]`
   * `tr[all .2s ease-in-out]`
   * `ani[bounce 1s infinite]`

2. 不要再搞「单值形式 + 自己的顺序规则」

   * 比如不要发明 `tr200-ease` 这种奇怪顺序，让 LLM 还得记一套你自创 DSL 次序。
   * 直接用 `[...]` 装原生 CSS 顺序，语义更稳定。

---

### 2.8 组合类（width+height / left+right / top+bottom）

你图里有「组合」那支树：`width+height`、`left+right`、`top+bottom`。

我建议你**非常克制**地只保留两个：

* `s<number>` → `width` + `height` 同值；
* `mx`/`my` / `px`/`py` / `in`（inset）这种已经有的、基于 CSS 本身语义的组合。

像「left+right」这种，你真要组合，写成：

```txt
lr10    → left:10px; right:10px
tb10    → top:10px; bottom:10px
```

但最好别大量扩散这类“你自己发明的复合属性”，否则规范复杂度一下爆炸，而且很难覆盖 MDN 的所有相似需求。([MDN Web Docs][2])

---

## 3. 覆盖「所有 MDN CSS 属性」的完整策略

MDN 的 CSS Reference 把内容分成：属性、伪类、伪元素、数据类型、函数、@ 规则等几个维度，并且会持续加新东西。([MDN Web Docs][1])

你要做到 **“规范看起来专业且完备”**，需要有一个清楚的故事：

### 3.1 属性：核心表 + 自动算法

* 核心表：

  * 覆盖 Box model / Color / Typography / Flex / Grid / Position / Background / Border / Animation / Transform / Filter / Table / List / Scroll 等模块中最常用的那部分属性。([MDN Web Docs][5])
* 自动算法：

  * 4.2 那套「按单词生成 3–4 位缩写」的机制兜底；
  * 文档里给出 3–5 个示例属性的自动生成结果；
  * 明写：**如果核心表里没定义，就用自动算法**。

### 3.2 伪类 / 伪元素：按 MDN 表逐个标注状态

* 从 MDN 的伪类索引页面，把所有伪类列一遍，分组（状态 / 表单 / 结构 / 链接 / 函数式）并安排缩写。([MDN Web Docs][3])
* 同样，从伪元素索引页面，列出全部伪元素，并区分「推荐做缩写」和「交给自动算法」。([MDN Web Docs][4])

> 关键不是你要立刻实现所有伪类，而是**规范里要承认它们存在，并说明怎么命名**。

### 3.3 新增 / 实验属性：统一归入自动命名

* 比如 CSS View Transitions 那几个伪元素、container queries 的属性、逻辑属性（`margin-inline-start` 之类）。([MDN Web Docs][2])
* 规范里写一句话：

  > 对于 MDN CSS Reference 中新加入的属性 / 伪类 / 伪元素，如果本规范尚未声明显式缩写，则一律使用「自动命名算法」得到的缩写。

这样你以后根本不需要频繁改规范，只需要偶尔把一些高频新属性从「自动」升级到「手工」。

---

## 4. 总结：你现在这套要怎么“进化成正式规范”

直说了，现在这张 XMind 还是「个人速记」而不是「语言规范」。
要变得更专业、更完善、更严谨，你需要做的不是列更多例子，而是：

1. **先把语法模式钉死**：

   * token 结构、数值/单位规则、`[]` 的用法、`!` 的位置。

2. **把命名空间划清**：

   * 属性缩写 vs 伪类前缀 vs 伪元素前缀 vs 组合宏，别再互相抢字母。

3. **明确「核心表 + 自动算法」二层结构**：

   * 核心表 ≈ 80–120 个你手工命名的属性/伪类/伪元素；
   * 其余全部走算法，从 MDN 名字机械生成缩写。

4. **至少对照一遍 MDN 的伪类 / 伪元素索引**：

   * 不需要一条条实现，但需要一条条说「这类按某规则命名」。([MDN Web Docs][3])