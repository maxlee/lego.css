先说结论：

**“完整规范”不应该是 300+ 行死表，而是：
一套统一的命名规则 + 核心属性分组映射 + 没列到的属性的自动生成算法。**

只要你给我任意一个 MDN 上的标准 CSS 属性名，这套规则都能唯一算出一个 lego.css 缩写。
下面就是这套规范的 v1 草案，会兼容你现在 README / 官网里已有的命名。([lego.css][1])

---

## 0. 范围 & 基本约定

* **属性范围**：

  * 以 MDN CSS Properties 列表为准，覆盖标准属性（`align-content`、`animation-duration`、`background-color` 等）。([MDN Web Docs][2])
  * 不强行给 `-webkit-*` / `-moz-*` 这类私有属性起缩写（需要时按自动规则生成即可）。
  * 自定义属性 `--foo` 不参与缩写（直接在 `var(--foo)` 里用）。

* **命名目标**：

  1. 尽量沿用现有 lego.css 命名（`m`、`p`、`bgc`、`fs`、`jc-center` 等）。([lego.css][1])
  2. 对剩余属性给出**可推导**的命名规则，避免“凭感觉瞎起名”。

---

## 1. 顶层命名总则（适用于所有属性）

### 1.1 基本形式

```text
<前缀>[<方向>|<轴>|<修饰>-]<值 | 关键字 | [复杂值]>
```

* **数值型属性（length/number）**：

  * `前缀 + 数字`：默认单位是 `px`

    * `m10` → `margin: 10px`
    * `fs16` → `font-size: 16px`
  * 其他单位用后缀：`%` / `vh` / `vw` / `em` / `rem` …

    * `w50%` → `width: 50%`
    * `h50vh` → `height: 50vh`([lego.css][1])

* **关键字型属性**（`display`, `position`, `flex-wrap`…）：

  * `前缀-关键字`

    * `d-flex` → `display: flex`
    * `p-absolute` → `position: absolute`
    * `fw-bold` → `font-weight: bold`([lego.css][1])

* **复杂值 / 多参数函数**：

  * `前缀[原生 CSS 值]`

    * `bd[1 solid #000]` → `border: 1px solid #000`
    * `t[translateY(-2px)]` → `transform: translateY(-2px)`
    * `ts[1 2 3 #000]` → `text-shadow: 1px 2px 3px #000`([lego.css][1])

* **方向 / 轴后缀**（适用于 margin / padding / border / inset 等）：

  * `t / r / b / l`：top/right/bottom/left
  * `x / y`：左右 / 上下
  * 例：`mt10`、`mx10-20`、`bdr2` …

---

### 1.2 伪类 / 状态前缀

延续你现有约定：([lego.css][1])

```text
h:  → :hover
a:  → :active
f:  → :focus
fv: → :focus-visible     （新建议，补齐 focus-visible）
```

* 单条：`h:bgc#f00`
* 组合：`h:(bgc#f00 c#fff p10)`

未来如果要扩展（`visited` 等），按同一规则加一位前缀即可。

---

### 1.3 `!important` 标记

* 任意 token 后缀 `!`：

  * `lh1.5!` → `line-height: 1.5 !important`([lego.css][1])
* 组内 important：

  * `h:(s180! bgc#fae32f p1)`：只对组内各声明加 `!important`。([lego.css][1])

---

### 1.4 “自动命名算法”总则（用于没手工列出的小众属性）

对于 **未在“核心表”中显式指定** 的 CSS 属性，用下面算法生成缩写：

1. 取 CSS 属性名（不含 `-webkit-` 等前缀），按 `-` 切分单词：

   * 例：`scroll-margin-block-start` → `["scroll","margin","block","start"]`

2. 逐单词取若干字母组合：

   * 首词：取前 2 字母；
   * 后续词：各取首字母；
   * 拼接后整体不超过 4 字母；
   * 示例：`scroll-margin-block-start` → `sm bs` → `smbs`

3. 如果和“核心缩写”冲突，再根据模块名加一位字母解决冲突：

   * 例如已经有 `sm` 被用在别的地方，`scroll-margin` 可以用 `scm` / `smg`。

4. 自动缩写统一小写，不再额外手调。

> 换句话说：**核心常用属性手工指定缩写；
> 其它长尾属性用这个算法补齐，理论上可以覆盖 MDN 上所有属性。**([MDN Web Docs][2])

---

## 2. 核心属性分组缩写（手工规范）

下面是“真正需要你在 README / LLM 规则文件里写死”的部分。
我会按你 README 里现有分组来整理，并补齐空白。([lego.css][1])

> 格式：
> `CSS 属性组 → 缩写模式 → 说明 / 示例`

---

### 2.1 尺寸 & 间距（box sizing）

**覆盖 MDN：**
`width/height/min/max-*`, `margin*`, `padding*`, `box-sizing`, `block-size` 等。([MDN Web Docs][2])

* `margin` / `margin-*`

  * `m<number>` → `margin`
  * `mt / mr / mb / ml` → 对应四边
  * `mx / my` → X/Y 轴
  * 示例：

    * `m10` → `margin: 10px`
    * `mt10` → `margin-top: 10px`
    * `mx10-20` → `margin: 0 20px`（你可以定义具体解析规则）

* `padding` / `padding-*`

  * `p` / `pt/pr/pb/pl` / `px/py` 同上。

* `width / height`

  * `w<number>` → `width: <n>px`
  * `h<number>` → `height: <n>px`
  * `s<number>` → `width & height` 同时设置（已存在）([lego.css][1])
  * `w100%`、`h50vh` 等直接加单位。([lego.css][1])

* `min-width / min-height / max-width / max-height`

  * `nw / nh / mw / mh<number>`([GitHub][3])

* `box-sizing`

  * `bs-border-box / bs-content-box`（已有）([lego.css][1])

* `block-size / inline-size`（现代逻辑尺寸）

  * 建议：

    * `bls<number>` → `block-size`
    * `ins<number>` → `inline-size`
  * 如果你不常用，可以交给自动算法：`block-size` → `bs`（但和 box-sizing 冲突，就明确在规范里说“逻辑尺寸不另起，推荐用 width/height 语义”）。

---

### 2.2 布局 / 显示

**覆盖 MDN：** `display`, `position`, `top/right/bottom/left`, `float`, `clear`, `z-index`, `overflow*`, `visibility` 等。([MDN Web Docs][2])

* `display`

  * `d-` 前缀：`d-block`、`d-flex`、`d-inline`、`d-none`…（已有）([lego.css][1])

* `position`

  * `p-absolute` / `p-relative` / `p-fixed` / `p-sticky` / `p-static`([lego.css][1])

* `inset / top / right / bottom / left`

  * `t / r / b / l<number>`
  * 若支持 `inset`：可以用 `in<number>` 作为“所有方向同值”。

* `float` / `clear`

  * `f-left/right/none`（已有）
  * `cl-left/right/both/none`（建议：`clear` → `cl`）。

* `z-index`

  * `zi<number>`（已有）([lego.css][1])

* `overflow / overflow-x / overflow-y`

  * `o-hidden/auto/scroll/visible`（已有）
  * `ox-*`、`oy-*`（已有）([GitHub][3])

* `visibility`

  * `v-hidden / v-visible`（已有）([lego.css][1])

---

### 2.3 Flexbox

**覆盖 MDN：** `display:flex`, `flex-direction`, `flex-wrap`, `justify-content`, `align-items`, `align-content`, `flex`, `flex-grow`, `flex-shrink`, `flex-basis`, `order`, `align-self` 等。([MDN Web Docs][2])

README 已经有一套，你只要正式写成规范即可([GitHub][3])：

* `flex-direction` → `fd-row|row-reverse|column|column-reverse`
* `flex-wrap` → `fw-nowrap|wrap|wrap-reverse`
* `flex-flow` → `ff[<direction> <wrap>]`
* `justify-content` → `jc-flex-start|flex-end|center|space-around|space-between|space-evenly`
* `align-items` → `ai-stretch|flex-start|flex-end|center|baseline`
* `align-content` → `ac-stretch|flex-start|flex-end|center|space-around|space-between`
* `order` → `o<number>`（注意：这里和 `opacity` 共用 `o`，你在规范里明确“在 flex 语境下 `o` 优先视为 order”）
* `flex` → `flex[<grow> <shrink> <basis>]`
* `align-self` → `as-*`

---

### 2.4 Grid（建议补完）

MDN 上 grid 属性很多（`grid-template-columns`/`rows`、`grid-auto-flow`、`gap` 等）。([MDN Web Docs][2])

你 README 里目前只写了占位 `[ ]`，建议明确：([GitHub][3])

* `display:grid` → `d-grid`
* `grid-template-columns` → `gtc[...]`
* `grid-template-rows` → `gtr[...]`
* `grid-template-areas` → `gta[...]`
* `grid-column` / `grid-row` → `gc[...]` / `gr[...]`
* `grid-auto-flow` → `gaf-row|column|dense|row-dense|column-dense`
* `gap` / `row-gap` / `column-gap` → `gp<number>` / `rg<number>` / `cg<number>`

不想一次搞完的话，可以先把 `gap`/`gtc`/`gtr` 这几个写死，其它走自动算法。

---

### 2.5 颜色系统

**覆盖 MDN：** `color`, `background-color`, `border-color`, 以及其它 color 模块属性。([MDN Web Docs][2])

* `color` → `c<颜色>`

  * 例：`c#333`、`cred`（已有）([lego.css][1])

* `background-color` → `bgc<颜色>`（已有）

* `border-color` → `bc<颜色>`（已有）

其它 color 系列（`accent-color`/`caret-color`/`outline-color` 等）建议统一：

* `accent-color` → `aclc<颜色>`（或在规范中手写 `acc`，看你喜好）([MDN Web Docs][2])
* `caret-color` → `cac<颜色>`
* `outline-color` → `olc<颜色>`

如果你嫌这些冷门，完全可以写一句：“**未列出的颜色类属性统一使用 `<自动缩写><颜色>`**。”

---

### 2.6 背景（background-*）

**覆盖 MDN：** `background`, `background-image`, `background-repeat`, `background-position`, `background-size`, `background-attachment`, `background-clip` 等。([MDN Web Docs][2])

* `background-color` → `bgc`（上面已写）
* `background-image` → `bgi(url)`（已有）
* `background-repeat` → `br-repeat-x|repeat-y|no-repeat`（已有）
* `background-position` → `bp-center|top|right|bottom|left`（已有）
* `background-size` → `bs-cover|contain|<length>`（已有）
* `background-attachment` → `ba-fixed|local|scroll`（已有）

复合 `background` → `bg[...]`，直接用原生值。

---

### 2.7 边框 / 圆角 / 外框 / 阴影

**覆盖 MDN：** `border*`, `border-radius*`, `outline*`, `box-shadow` 等。([MDN Web Docs][2])

* `border` / `border-top/right/bottom/left`

  * `bd[...]`、`bdt[...]`、`bdr[...]`、`bdb[...]`、`bdl[...]`（已有）
  * 例：`bd[1 solid #000]`、`bdt[2 dashed red]`

* `border-style` → `bds-*`（已有）

* `border-width` → `bw<number>`（已有）

* `border-radius` / `*-radius`

  * `bdrs<number>`
  * `bdrstl<number>`、`bdrstr<number>`、`bdrsbl<number>`、`bdrsbr<number>`（可选，或者只提供 `bdrs` + `border-top-left-radius` 这种交给自动算法）

* `outline` → `ol[...]`（已有）

* `box-shadow` → `bsh[...]`（建议；现在你在官网里用 `ts[...]` 做 text-shadow，box-shadow 可以沿用 `bsh`）([lego.css][1])

---

### 2.8 字体 & 文本

**覆盖 MDN：** `font`, `font-family`, `font-size`, `font-weight`, `font-style`, `line-height`, `letter-spacing`, `word-spacing`, `text-align`, `text-decoration`, `text-transform`, `text-shadow`, `white-space`, `word-break`, `overflow-wrap(word-wrap)`, `writing-mode` 等。([MDN Web Docs][2])

README 里已经写了大半：([GitHub][3])

* `font-size` → `fs<number>`

* `font-weight` → `fw-<keyword>` / `fw<number>`

* `font-style` → `fs-normal|italic|oblique`（注意和 `font-size` 抢缩写，你可以保持现在的“`fs<number>` 是 size、`fs-` 开头关键字是 style`”）

* `font-family` → `ff-k|h|s|fs`（已有，映射到 fonts.css）

* `line-height` → `lh<number | float>`（已有）

* `letter-spacing` → 目前 README 用 `ls`，但 `ls` 在 list-style 里也用了；建议在规范里明确：

  * `ls<number>` 始终指 `letter-spacing`；
  * list-family 统一改成 `lst-`、`lsp-`、`lsy-`（见下文）。

* `word-spacing` → `ws<number>`

* `text-align` → `ta-left|center|right|justify`（已有）

* `text-indent` → `ti<number>`

* `text-shadow` → `ts[...]`（已有示例 `ts[1 2 3 #000]`）

* `text-transform` → `tt-none|capitalize|uppercase|lowercase`（建议改 `tt-`，避免和 `transform` 的 `tr` 混）

* `text-decoration-*` → `tdl-`、`tdc-`、`tds-`、`tdt-`，复合 `text-decoration` → `td[...]`

* `white-space` → `ws-normal|nowrap|pre|pre-line|pre-wrap`

  > 这里和 `word-spacing` 冲突，你需要在规范里明确：
  >
  > * `ws<number>` → `word-spacing`
  > * `ws-关键字` → `white-space`

* `word-break` → `wb-normal|break-all|keep-all`（已有）

* `overflow-wrap` / `word-wrap` → `ow-normal|break-word`（建议合并一个写法）

* `writing-mode` → `wm-horizontal-tb|vertical-rl|vertical-lr`（已有）

* `direction` → `dir-ltr|rtl`

* `user-select` → `us-auto|none|text|all`（已有）

---

### 2.9 动画 / 过渡 / 变换 / 过滤

**覆盖 MDN：** `transition*`, `animation*`, `transform`, `transform-origin`, `filter`, `backdrop-filter` 等。([MDN Web Docs][2])

* `transition` → `tr[<property> <duration> <timing> <delay>]`

  * 或细分：

    * `trd<number>ms`（`transition-duration`）
    * `trtf-ease|linear|ease-in|ease-out|ease-in-out`（`transition-timing-function`）

* `animation-*` → 统一 `ani-` 前缀：

  * `animation-name` → `anin-xxx`
  * `animation-duration` → `anid500ms`
  * `animation-timing-function` → `anitf-ease` …
  * 如果你想简单点，可以只支持 `ani[...]` 组合。

* `transform` → `t[<函数>]`（你已经用 `t[translateY(-2px)]`）([lego.css][1])

* `transform-origin` → `to[...]`

* `filter` → `f[blur(10px) contrast(120%)]`

* `backdrop-filter` → `bf[...]`

---

### 2.10 列表 / 表格

**覆盖 MDN：** `list-style*`, `marker-offset`, `caption-side`, `border-spacing` 等。([MDN Web Docs][2])

README 里 list 已有一部分：([GitHub][3])

* `list-style` → **建议统一改** `lst[...]`（避免和 `letter-spacing` 的 `ls` 冲突）
* `list-style-type` → `lstt-none|disc|circle|square`
* `list-style-position` → `lstp-inside|outside`
* `list-style-image` → `lsti(url)`

表格相关可以先简单：

* `border-collapse` → `bdc-collapse|separate`
* `border-spacing` → `bds<number>`
* `caption-side` → `cs-top|bottom`

---

### 2.11 其它重要模块（滚动、容器、内容可见性…）

现代 CSS 新增了一堆滚动 / contain / container 属性。([MDN Web Docs][2])

你没必要都手写，给几个**高频手写**就行，剩下交给自动算法：

* `scroll-behavior` → `sbh-auto|smooth`

* `scroll-margin` / `scroll-margin-*` → `sm<number>` / `smt<number>` etc.

* `scroll-padding` → `sp<number>` / `spt<number>` …

* `contain` / `contain-intrinsic-*` → 交给自动算法（`contain` → `ct`，`contain-intrinsic-size` → `cis`）。

* `container` / `container-name` / `container-type` → `ctr[...]` / `ctrn-...` / `ctrt-size|inline-size|normal`。

* `content-visibility` → `cv-visible|hidden|auto`

这些你可以按项目需要逐步“从自动命名提升为手工命名”，但规范已经保证：**即使没手工列出，也有一个唯一缩写可用**。

---

## 3. 给 LLM / 文档用的输出形式建议

把上面内容落成两个东西：

1. **人看的文档**：

   * 当前 README 的「Atomic」 小节替换成分组表（刚才 2.x 那种）。([GitHub][3])
   * 每组列出：

     * 覆盖的 MDN 属性名列表；
     * lego 缩写模式；
     * 3–5 例子。

2. **机器看的 JSON 规范**（你之前要的那个 schema）：

   * `props`：列出上述“核心缩写”；
   * `autoNaming`：用伪代码描述“未命中核心映射时如何用自动算法生成缩写”；
   * `examples`：给几个 Tailwind → lego 的完整片段。

---

## 4. 现实一点的建议

* **不要真的试图手写 300+ 行映射表。**
  真要那么干，维护成本会把你自己先掐死，更别说升级 CSS 规范。

* 更合理的做法就是这套两层结构：

  1. “核心缩写表”（现在这份 2.x）控制在 80–120 条，你可以完全掌控可读性；
  2. “自动命名算法”兜住所有剩余属性，保证**理论完备**。

如果你希望，我可以下一步直接帮你把这套规范整理成一份 **可放仓库的 `lego-naming-spec.md` + 一份 JSON 版本**，你直接 copy 进去就能当官方文档 / LLM 规则文件用。

[1]: https://legocss.dev/ "lego.css - 像乐高积木一样写CSS | 原子化CSS框架"
[2]: https://developer.mozilla.org/en-US/docs/Web/CSS "CSS: Cascading Style Sheets | MDN"
[3]: https://github.com/legocss/lego.css "GitHub - legocss/lego.css"
